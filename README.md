# 🚀 마케팅랩 v2.2

AI 기반 소상공인 맞춤 마케팅 전략 생성 서비스

**배포 URL**: https://marketing-lab-ten.vercel.app/

---

## ✨ 최신 업데이트 (2026-02-16)

### 🎯 Phase 1 완료: 핵심 설문 시스템 구현

#### 1. **인트로 & 업종 선택 화면**
- 히어로 섹션 + 3가지 주요 기능 소개
- 4개 업종 선택 버튼: 한의원, 카페, 헬스장, 네일샵
- 무료로 시작하기 CTA

#### 2. **기본 정보 입력 화면**
- ✅ 가게 이름, 위치 (마포구 15개 동)
- ✅ 월 평균 매출 (필수), 실제 수익 (선택)
- ✅ 온라인 등록 여부 (네이버, 카카오, 기타, 없음)
- ✅ 영업 시간대 (평일/주말 한가한/바쁜 시간)
- ✅ 현재 고민 (다중 선택 + 기타 입력)
- 필수 항목 검증 로직

#### 3. **추가 정보 입력 화면** ⭐ 신규
- ✅ **주요 서비스 Top 3**: 서비스명, 가격, 히트상품 체크박스
- ✅ **경쟁 매장 3곳**: 이름, 특징, 가격대
- ✅ **고객 FAQ**: 동적 추가 (최대 5개)
- ✅ **예약 방식**: 네이버, 카카오, 전화, 현장, 기타
- ✅ **결제 방식**: 카드, 현금, 계좌이체, 모바일페이
- ✅ **리뷰 현황**: 네이버/카카오/구글 리뷰 수 & 평점
- ✅ **SNS 운영**: 팔로워, 업로드 빈도, 해시태그

#### 4. **업종별 특화 필드** ⭐ 신규

##### 한의원 (🏥)
**물리적 한계**
- 동시 진료 베드 수
- 원장 1인당 적정 진료 시간
- 보조 인력 유무

**업종별 특화**
- 비급여 비중 (%)
- 야간 진료 여부

##### 네일샵 (💅)
**물리적 한계**
- 동시 시술 가능 인원
- 평균 소요 시간
- 예약 간 여유 시간

**업종별 특화**
- 회원권 비중 (%)
- 주력 디자인 유무

##### 카페 (☕)
**물리적 한계**
- 매장 내 좌석 수
- 테이크아웃 vs 홀 비중
- 배달 플랫폼 의존도

**업종별 특화**
- 피크 타임 (점심/오후)
- 시그니처 메뉴 유무

##### 헬스장 (💪)
**물리적 한계**
- 동시 수용 가능 인원
- PT 수업 가능 시간
- PT 강사 수
- 노후 장비 비율

**업종별 특화**
- 재등록률 (%)
- 1:1 PT 비중 (%)

#### 5. **AI 전략 생성 & 결과 화면** ⭐ 신규
- Gemini 2.0 Flash Exp 모델 사용
- 로딩 화면 (30초 소요)
- 결과 화면 구성:
  - 📊 **현황 진단**: 강점 3개 + 약점 3개
  - 🚀 **즉시 실행 전략**: 제목, 설명, 비용, 난이도, 예상 효과
  - 📅 **12주 실행 계획**: 주차별 테마 + 7일 액션 플랜
  - 🏷️ **해시태그 & 키워드**: 인스타그램 해시태그 15개, 네이버/카카오 검색 키워드
  - 💰 **예상 결과**: 현재 매출/수익 vs 예상 매출/수익, ROI 3.5배

---

## 🎨 디자인 시스템

### 색상 팔레트
```css
--color-primary: #001a3d;      /* Deep Authority - 메인 텍스트, 헤더 */
--color-background: #f1f5f9;   /* Clean Canvas - 배경 */
--color-accent: #ff4e3a;       /* Realistic Alert - 강조, 경고 */
--color-success: #10b981;      /* 성공, 강점 */
--color-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
```

### 타이포그래피
- **폰트**: Noto Sans KR (Google Fonts)
- **헤더**: 700 weight
- **본문**: 400~500 weight

---

## 🛠 기술 스택

### Frontend
- **HTML5** - 시맨틱 마크업
- **CSS3** - 반응형 디자인, 그라디언트, 애니메이션
- **Vanilla JavaScript** - ES6+ 문법
  - 동적 폼 생성
  - 업종별 조건부 렌더링
  - Fetch API를 통한 비동기 통신

### Backend (Serverless)
- **Vercel Functions** - Node.js 20.x
- **Google Gemini 2.0 Flash Exp** - AI 전략 생성
  - `@google/generative-ai` v0.21.0
  - 모델: `gemini-2.0-flash-exp`

### 환경 변수
```bash
GEMINI_API_KEY=AIza...     # Google AI Studio API Key
# 또는
GOOGLE_API_KEY=AIza...
GOOGLE_AISTUDIO_KEY=AIza...
```

---

## 📁 프로젝트 구조

```
marketing-lab/
├── public/
│   ├── index.html          # 메인 HTML (모든 화면 포함)
│   ├── css/
│   │   └── style.css       # 스타일시트
│   └── js/
│       └── main.js         # 메인 JavaScript 로직
├── api/
│   └── strategy.mjs        # Vercel Serverless Function (ES Module)
├── package.json            # 의존성 관리
├── vercel.json             # Vercel 설정
└── README.md
```

---

## 🚀 배포 가이드

### 1. GitHub에 Push
```bash
git add .
git commit -m "feat: Phase 1 완료 - 설문 시스템 & AI 전략 생성"
git push origin main
```

### 2. Vercel 자동 배포
- 커밋 감지 → 빌드 시작 (~30초)
- 의존성 설치 (`@google/generative-ai@0.21.0`)
- Functions 빌드 (`api/strategy.mjs`)
- 배포 완료 (~3분)

### 3. 환경 변수 설정
Vercel Dashboard → Settings → Environment Variables
```
Name: GEMINI_API_KEY
Value: AIza... (Google AI Studio에서 발급)
Environment: Production, Preview
```

### 4. 재배포 (환경 변수 추가 시)
Deployments → ⋯ → Redeploy

---

## ✅ 테스트 시나리오

### 한의원 예시
1. **인트로** → "무료로 시작하기" 클릭
2. **업종 선택** → "🏥 한의원" 클릭
3. **기본 정보**
   - 가게명: 테스트한의원
   - 위치: 홍대입구
   - 월 매출: 1500만원
   - 온라인: 네이버플레이스 체크
   - 평일 한가한 시간: 14:00~17:00
   - 평일 바쁜 시간: 09:00~12:00
   - 고민: 신규 유입 부족 체크
4. **추가 정보**
   - 서비스 1: 추나요법, 80000원, 히트상품 체크
   - 서비스 2: 침술, 30000원
   - 서비스 3: 한약, 150000원
   - 경쟁 매장: 건너편한의원, 인테리어 좋음, 비슷함
   - FAQ: 주차 가능한가요?
   - 예약: 네이버 체크
   - 결제: 카드, 현금 체크
   - 리뷰: 네이버(45개, 4.5점), 카카오(12개, 4.3점), 구글(8개, 4.7점)
   - SNS: 아니오 선택
5. **업종별 특화**
   - 베드 수: 4
   - 진료 시간: 30분
   - 보조 인력: 있음
   - 비급여 비중: 60%
   - 야간 진료: 미운영
6. **전략 분석 리포트 확인** 클릭
7. 로딩 (30초)
8. **결과 확인**: 진단, 전략, 12주 계획, 해시태그, 예상 결과

---

## 📝 다음 단계 (Phase 2 예정)

### 옵션 C: 결과 화면 블러 & 결제 기능
- [ ] 결과 1개만 표시, 나머지 블러 처리
- [ ] "₩9,900 결제하고 전체 보기" 버튼
- [ ] "무료코드로 미리보기" (비밀번호: 12345)
- [ ] 결제 연동 (토스페이먼츠 or 기타)

### 추가 개선 사항
- [ ] 반응형 최적화 (모바일 UI 개선)
- [ ] 로딩 애니메이션 고도화
- [ ] 결과 PDF 다운로드 기능
- [ ] 결과 공유 기능 (카카오톡, 링크 복사)
- [ ] 대시보드 (이전 분석 기록 조회)

---

## 🔧 로컬 개발 환경

### 설치
```bash
npm install
```

### 개발 서버 실행
```bash
npm run dev
# http://localhost:3000
```

### 환경 변수 (.env.local)
```bash
GEMINI_API_KEY=your_api_key_here
```

---

## 🐛 알려진 이슈

1. **API 키 404 오류**
   - 원인: 환경 변수 미설정 또는 모델명 오타
   - 해결: Vercel 환경 변수 확인, `gemini-2.0-flash-exp` 사용

2. **JSON 파싱 오류**
   - 원인: AI 응답에 마크다운 포함
   - 해결: `parseAIResponse` 함수에서 ```json 제거 로직 적용

3. **CORS 에러**
   - 원인: 로컬 개발 시 발생 가능
   - 해결: Vercel Dev 환경 사용 (`npm run dev`)

---

## 📞 문의

- **프로젝트 관리자**: MarketingLab Team
- **이메일**: support@marketinglab.com (예시)
- **라이센스**: MIT

---

## 📊 업데이트 히스토리

| 버전 | 날짜 | 내용 |
|-----|------|------|
| v2.2 | 2026-02-16 | Phase 1 완료: 추가 정보 + 업종별 특화 필드 + AI 전략 생성 |
| v2.1 | 2026-02-15 | 7개 신규 설문 필드 추가, AI 프롬프트 업그레이드 |
| v2.0 | 2024-02-15 | 기본 설문 시스템, 마포구 15개 동, 히트상품 토글 |
| v1.0 | 2024-01-xx | 초기 버전 |

---

**🎉 현재 구현 완료 항목**:
- ✅ 인트로 & 업종 선택
- ✅ 기본 정보 입력
- ✅ 추가 정보 입력 (서비스, 경쟁사, FAQ, 예약/결제, 리뷰, SNS)
- ✅ 업종별 특화 필드 (4개 업종)
- ✅ AI 전략 생성 (Gemini 2.0)
- ✅ 결과 화면 (진단, 전략, 12주 계획, 해시태그, 예상 결과)

**🚧 다음 구현 예정**:
- 결제 시스템 & 블러 처리
- 결과 공유/다운로드 기능
